\doxysection{Kinematic\+Body.\+hpp}
\hypertarget{KinematicBody_8hpp_source}{}\label{KinematicBody_8hpp_source}\index{/home/nephele/dev/physics/core/include/Physics/Physics/KinematicBody.hpp@{/home/nephele/dev/physics/core/include/Physics/Physics/KinematicBody.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ "{}SFML/System/Vector2.hpp"{}}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <Physics/Physics/Units.hpp>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <Physics/Physics/Body.hpp>}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{keyword}{namespace\ }physics}
\DoxyCodeLine{00007\ \{}
\DoxyCodeLine{00008\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classphysics_1_1KinematicBody}{KinematicBody}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classphysics_1_1Body}{Body}}}
\DoxyCodeLine{00009\ \ \ \ \ \{}
\DoxyCodeLine{00010\ \ \ \ \ \textcolor{keyword}{public}:\ }
\DoxyCodeLine{00011\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classphysics_1_1KinematicBody}{KinematicBody}}(\mbox{\hyperlink{classphysics_1_1Application}{Application}}*\ application,\ \textcolor{keyword}{const}\ sf::Color\&\ color)}
\DoxyCodeLine{00012\ \ \ \ \ \ \ \ \ \ \ \ \ :\mbox{\hyperlink{classphysics_1_1Body}{Body}}(application,\ color)}
\DoxyCodeLine{00013\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00014\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classphysics_1_1KinematicBody}{KinematicBody}}(\mbox{\hyperlink{classphysics_1_1Application}{Application}}*\ application,\ \textcolor{keyword}{const}\ sf::String\&\ filepath)}
\DoxyCodeLine{00017\ \ \ \ \ \ \ \ \ \ \ \ \ :\mbox{\hyperlink{classphysics_1_1Body}{Body}}(application,\ filepath)}
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ SetMass(\textcolor{keywordtype}{float}\ mass)}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \ \ \ \ m\_Mass\ =\ mass;}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ SetGravityAcceleration(\textcolor{keywordtype}{float}\ g)}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ \ \ m\_GravityAcceleration\ =\ g;}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{const}\ sf::Vector2f\ GetTotalForce()\textcolor{keyword}{\ override}}
\DoxyCodeLine{00032\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ sf::Vector2f\ res\ =\ Body::GetTotalForce();}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \ \ \ \ res\ +=\ GetWeight();}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ sf::Vector2f\ GetWeight()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00040\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ sf::Vector2f\{0.0f,\ m\_GravityAcceleration\}\ *\ m\_Mass;}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ Update(\textcolor{keywordtype}{float}\ delta\_time)\textcolor{keyword}{\ override}}
\DoxyCodeLine{00045\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\&\ force\ :\ m\_Forces)}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_Acceleration\ +=\ force.Value\ /\ m\_Mass;}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ m\_Velocity\ +=\ m\_Acceleration\ *\ delta\_time\ *\ Units::GetPixelsPerMeter()\ +\ sf::Vector2f\{0.0f,\ m\_GravityAcceleration\ *\ Units::GetPixelsPerMeter()\}\ *\ delta\_time;}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ new\_position\ =\ m\_Rectangle.getPosition()\ +\ m\_Velocity\ *\ delta\_time\ +\ m\_Acceleration\ *\ delta\_time\ *\ delta\_time\ *\ 0.5f;}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ m\_Rectangle.setPosition(new\_position);}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ m\_PreviousForces\ =\ m\_Forces;}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ m\_Forces.clear();}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ m\_Acceleration\ =\ sf::Vector2f\{0.0f,\ 0.0f\};}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ DrawForces(\textcolor{keywordtype}{float}\ thickness\ =\ 5.0f)\textcolor{keyword}{\ const\ override}}
\DoxyCodeLine{00058\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ Body::DrawForces(thickness);}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ weight\ =\ GetWeight();}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ sf::RectangleShape\ weight\_rect;}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ weight\_rect.setSize(\{std::sqrt(weight.x\ *\ weight.x\ +\ weight.y\ *\ weight.y)\ *\ Units::GetPixelsPerNewton(),\ thickness\});}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ weight\_rect.setRotation(std::atan2(weight.y,\ weight.x)\ *\ 57.2958f);}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ weight\_rect.setPosition(m\_Rectangle.getPosition());}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ weight\_rect.setFillColor(sf::Color::Red);}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ weight\_rect.setOrigin(\{0.0f,\ thickness\ /\ 2.0f\});}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ m\_Application-\/>\mbox{\hyperlink{classphysics_1_1Application_ae792166e36fcffb2e3eb1786bf7ef81b}{GetWindow}}().draw(weight\_rect);}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ sf::Text\ weight\_text(\textcolor{stringliteral}{"{}w"{}},\ \mbox{\hyperlink{classphysics_1_1Font_a2c10caa38fefd6d1f040794d2a0257cf}{Font::GetDefault}}().Get(),\ 30u);}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ weight\_text.setPosition(weight\_rect.getPosition()\ -\/\ sf::Vector2f\{0.0f,\ -\/\ thickness\ /\ 2.0f\}\ +\ }
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sf::Vector2f\{}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (weight\_rect.getSize().x\ +\ 20.0f)\ *\ std::cos(weight\_rect.getRotation()\ /\ physics::Units::DegreesPerRadian()),}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (weight\_rect.getSize().x\ +\ 20.0f)\ *\ std::sin(weight\_rect.getRotation()\ /\ physics::Units::DegreesPerRadian())\});}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ weight\_text.setOrigin(weight\_text.getGlobalBounds().width\ /\ 2.0f,\ weight\_text.getGlobalBounds().height\ /\ 2.0f);}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ weight\_text.setFillColor(physics::Colors::White);}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \ \ m\_Application-\/>\mbox{\hyperlink{classphysics_1_1Application_ae792166e36fcffb2e3eb1786bf7ef81b}{GetWindow}}().draw(weight\_text);}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ m\_Mass\ =\ 1.0f,\ m\_GravityAcceleration\ =\ 9.8066f;}
\DoxyCodeLine{00081\ \ \ \ \ \};}
\DoxyCodeLine{00082\ \}}

\end{DoxyCode}
